<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>hyperxmail</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="https://cdn.tiny.cloud/1/{{ tinymce_api_key }}/tinymce/8/tinymce.min.js" referrerpolicy="origin"></script>
    <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
    <script src="https://unpkg.com/feather-icons"></script>
</head>
<body>
    <div id="particles-js"></div>
    <div class="container">
        <h1>hyperxmail</h1>
        <form id="emailForm">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
            <div id="email-tags" aria-label="Destinatários">
                <input type="text" id="to-input" placeholder="Adicione destinatários e pressione Enter..." aria-label="Adicionar destinatário">
            </div>
            <input type="text" id="subject" placeholder="Assunto" required aria-label="Assunto">
            <input type="text" id="cc" placeholder="CC (separado por vírgulas)" aria-label="CC">
            <input type="text" id="cco" placeholder="CCO (separado por vírgulas)" aria-label="CCO">
            <div class="template-bar">
                <select id="template-select" aria-label="Selecionar Template">
                    <option value="">Carregar um Template</option>
                </select>
                <button type="button" id="save-template-button"><i data-feather="save"></i>Guardar Template</button>
                <a href="{{ url_for('reports') }}" class="button-link"><i data-feather="bar-chart-2"></i>Relatórios</a>
            </div>
            <textarea id="message" placeholder="Escreva a sua mensagem..." required minlength="5" aria-label="Mensagem"></textarea>

            <label for="csv-input" class="file-input-label" id="csv-label"><i data-feather="upload-cloud"></i>Selecionar CSV com e-mails (opcional)</label>
            <input type="file" id="csv-input" accept=".csv" aria-label="Escolha um CSV com e-mails (opcional)">

            <label for="attachment-input" class="file-input-label" id="attachment-label"><i data-feather="paperclip"></i>Anexar Ficheiros (PDF, JPG, PNG)</label>
            <input type="file" id="attachment-input" multiple accept=".jpg,.jpeg,.png,.pdf" aria-label="Escolha os anexos">

            <div class="button-group">
                <button type="button" id="preview-button"><i data-feather="eye"></i>Pré-visualizar</button>
                <button type="submit"><i data-feather="send"></i>Enviar Broadcast</button>
            </div>
            <div id="progress-bar"></div>
        </form>
        <p id="status"></p>
        <div id="log-area"></div>
    </div>

    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>
